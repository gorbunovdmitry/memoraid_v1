# üöÇ –î–µ–ø–ª–æ–π Memoraid –Ω–∞ Railway

Railway - —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞.

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º

- ‚úÖ GitHub/GitLab —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –∫–æ–¥–æ–º
- ‚úÖ Telegram Bot Token (–æ—Ç @BotFather)
- ‚úÖ Gemini API Key
- ‚úÖ –ê–∫–∫–∞—É–Ω—Ç –Ω–∞ [railway.app](https://railway.app) (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π)

---

## üöÄ –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

### 1.1 –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–¥ –≤ Git

```bash
git add .
git commit -m "Prepare for deployment"
git push origin main
```

### 1.2 –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `railway.json` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `railway.json` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```json
{
  "$schema": "https://railway.app/railway.schema.json",
  "build": {
    "builder": "NIXPACKS"
  },
  "deploy": {
    "startCommand": "cd backend && npm start",
    "restartPolicyType": "ON_FAILURE",
    "restartPolicyMaxRetries": 10
  }
}
```

---

## üöÇ –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Railway

### 2.1 –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [railway.app](https://railway.app)
2. –ù–∞–∂–º–∏—Ç–µ **"Start a New Project"**
3. –í—ã–±–µ—Ä–∏—Ç–µ **"Deploy from GitHub repo"**
4. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ GitHub
5. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `Memoraid 2`
6. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –ø—Ä–æ–µ–∫—Ç

### 2.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

Railway —Å–æ–∑–¥–∞—Å—Ç –æ–¥–∏–Ω —Å–µ—Ä–≤–∏—Å. –ù–∞–º –Ω—É–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ frontend –∏ backend:

**–í–∞—Ä–∏–∞–Ω—Ç A: –î–≤–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

1. **Backend —Å–µ—Ä–≤–∏—Å:**
   - –ù–∞–∂–º–∏—Ç–µ **"+ New"** ‚Üí **"GitHub Repo"**
   - –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
   - Railway –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –∫–∞–∫ Node.js –ø—Ä–æ–µ–∫—Ç
   - –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö:
     - **Root Directory**: `backend`
     - **Build Command**: `pnpm install && pnpm build`
     - **Start Command**: `node dist/main.js`

2. **Frontend —Å–µ—Ä–≤–∏—Å:**
   - –ù–∞–∂–º–∏—Ç–µ **"+ New"** ‚Üí **"GitHub Repo"**
   - –í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ—Ç –∂–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
   - –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö:
     - **Root Directory**: `frontend`
     - **Build Command**: `pnpm install && pnpm build`
     - **Start Command**: `pnpm start`

**–í–∞—Ä–∏–∞–Ω—Ç B: –û–¥–∏–Ω —Å–µ—Ä–≤–∏—Å —Å Docker Compose**

Railway –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Docker Compose, –Ω–æ –¥–ª—è –Ω–∞—á–∞–ª–∞ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–≤–∞ —Å–µ—Ä–≤–∏—Å–∞.

---

## üóÑÔ∏è –®–∞–≥ 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ PostgreSQL

1. –í –ø—Ä–æ–µ–∫—Ç–µ Railway –Ω–∞–∂–º–∏—Ç–µ **"+ New"**
2. –í—ã–±–µ—Ä–∏—Ç–µ **"Database"** ‚Üí **"Add PostgreSQL"**
3. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç –ë–î
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   - `DATABASE_URL` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è Railway
   - `POSTGRES_HOST`
   - `POSTGRES_PORT`
   - `POSTGRES_USER`
   - `POSTGRES_PASSWORD`
   - `POSTGRES_DB`

### 3.1 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è pgvector

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ë–î –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `pgvector`:

1. –í Railway –æ—Ç–∫—Ä–æ–π—Ç–µ PostgreSQL —Å–µ—Ä–≤–∏—Å
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"Data"** ‚Üí **"Query"**
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL:

```sql
CREATE EXTENSION IF NOT EXISTS vector;
```

–ò–ª–∏ —á–µ—Ä–µ–∑ Railway CLI:

```bash
railway connect postgres
psql
CREATE EXTENSION IF NOT EXISTS vector;
```

---

## üî¥ –®–∞–≥ 4: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Redis

1. –í –ø—Ä–æ–µ–∫—Ç–µ Railway –Ω–∞–∂–º–∏—Ç–µ **"+ New"**
2. –í—ã–±–µ—Ä–∏—Ç–µ **"Database"** ‚Üí **"Add Redis"**
3. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç Redis
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `REDIS_URL` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è)

---

## ‚öôÔ∏è –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### 5.1 Backend –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

–û—Ç–∫—Ä–æ–π—Ç–µ Backend —Å–µ—Ä–≤–∏—Å ‚Üí **"Variables"** ‚Üí –¥–æ–±–∞–≤—å—Ç–µ:

```env
# Database (Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç DATABASE_URL)
DATABASE_URL=${{Postgres.DATABASE_URL}}

# Redis
REDIS_URL=${{Redis.REDIS_URL}}

# Telegram
TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather

# Gemini API
GEMINI_API_KEY=–≤–∞—à_–∫–ª—é—á_Gemini

# Environment
NODE_ENV=production
PORT=3001

# Frontend URL (–±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è frontend)
NEXT_PUBLIC_BACKEND_URL=https://your-frontend.railway.app/api
```

### 5.2 Frontend –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

–û—Ç–∫—Ä–æ–π—Ç–µ Frontend —Å–µ—Ä–≤–∏—Å ‚Üí **"Variables"** ‚Üí –¥–æ–±–∞–≤—å—Ç–µ:

```env
NODE_ENV=production
NEXT_PUBLIC_BACKEND_URL=https://your-backend.railway.app
PORT=3000
```

---

## üîß –®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Build –∏ Start –∫–æ–º–∞–Ω–¥

### 6.1 Backend

–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Backend —Å–µ—Ä–≤–∏—Å–∞:

**Settings** ‚Üí **Build & Deploy**:

- **Root Directory**: `backend`
- **Build Command**: 
  ```bash
  cd backend && pnpm install && pnpm prisma generate && pnpm build
  ```
- **Start Command**: 
  ```bash
  node dist/main.js
  ```

### 6.2 Frontend

–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Frontend —Å–µ—Ä–≤–∏—Å–∞:

**Settings** ‚Üí **Build & Deploy**:

- **Root Directory**: `frontend`
- **Build Command**: 
  ```bash
  cd frontend && pnpm install && pnpm build
  ```
- **Start Command**: 
  ```bash
  pnpm start
  ```

---

## üóÑÔ∏è –®–∞–≥ 7: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –¥–µ–ø–ª–æ—è –Ω—É–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏:

### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ Railway CLI

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Railway CLI
npm i -g @railway/cli

# –õ–æ–≥–∏–Ω
railway login

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ø—Ä–æ–µ–∫—Ç—É
railway link

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
railway run --service backend "cd backend && pnpm prisma migrate deploy"
```

### –í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ Railway Dashboard

1. –û—Ç–∫—Ä–æ–π—Ç–µ Backend —Å–µ—Ä–≤–∏—Å
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"Deployments"**
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π
4. –û—Ç–∫—Ä–æ–π—Ç–µ **"View Logs"**
5. –ù–∞–π–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π

–ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ **Start Command**:

```bash
node dist/main.js & pnpm prisma migrate deploy
```

---

## üåê –®–∞–≥ 8: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–æ–≤

### 8.1 –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ–º–µ–Ω–æ–≤

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –¥–æ–º–µ–Ω—ã:
- Frontend: `your-frontend.railway.app`
- Backend: `your-backend.railway.app`

### 8.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Å–µ—Ä–≤–∏—Å–∞ ‚Üí **"Settings"** ‚Üí **"Networking"**
2. –ù–∞–∂–º–∏—Ç–µ **"Generate Domain"** –∏–ª–∏ **"Custom Domain"**
3. –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ DNS –∑–∞–ø–∏—Å–∏ (Railway –ø–æ–∫–∞–∂–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏)

---

## üì± –®–∞–≥ 9: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Mini App

1. –û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/BotFather)
2. `/myapps` ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
3. `/editapp` ‚Üí **Web App URL**
4. –í–≤–µ–¥–∏—Ç–µ –¥–æ–º–µ–Ω frontend: `https://your-frontend.railway.app`

---

## ‚úÖ –®–∞–≥ 10: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram
2. –ù–∞–∂–º–∏—Ç–µ "Open App"
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç –ø—Ä–∏ –∫–∞–∂–¥–æ–º push –≤ Git:

```bash
git add .
git commit -m "Update"
git push origin main
```

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –û–±–Ω–∞—Ä—É–∂–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
2. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–µ—Ç –ø—Ä–æ–µ–∫—Ç
3. –ó–∞–¥–µ–ø–ª–æ–∏—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–µ—Ä–≤–∏—Å –≤ Railway
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"Deployments"**
3. –í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–ø–ª–æ–π ‚Üí **"View Logs"**

–ò–ª–∏ —á–µ—Ä–µ–∑ CLI:

```bash
railway logs --service backend
railway logs --service frontend
```

### –ú–µ—Ç—Ä–∏–∫–∏

Railway –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU/RAM
- –¢—Ä–∞—Ñ–∏–∫
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤

---

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å

**–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ:**
- $5 –∫—Ä–µ–¥–∏—Ç–æ–≤ –≤ –º–µ—Å—è—Ü
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–ü–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ:**
- –û—Ç $5/–º–µ—Å—è—Ü
- –ë–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- –ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π

---

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: Build –ø–∞–¥–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Railway
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ `package.json`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `Root Directory` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `DATABASE_URL` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `pgvector` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã

### –ü—Ä–æ–±–ª–µ–º–∞: 401 –æ—à–∏–±–∫–∞ –≤ Telegram

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `NODE_ENV=production`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `TELEGRAM_BOT_TOKEN`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Mini App URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤ BotFather

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ Railway!

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Railway:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –∏–∑ Git
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π SSL
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

