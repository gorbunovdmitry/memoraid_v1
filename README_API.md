# üåê API Endpoints

## Backend API (–ø–æ—Ä—Ç 3001)

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- **–ö–æ—Ä–Ω–µ–≤–æ–π —Ä–æ—É—Ç**: `GET /` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- **Health check**: `GET /health` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

#### Ingest (–µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞)
- `POST /ingest` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π (—Ç–µ–∫—Å—Ç –∏–ª–∏ –∞—É–¥–∏–æ)
  - Body: `{ text?: string, audio_id?: string }`
  - Headers: `x-telegram-init-data` (–≤ dev —Ä–µ–∂–∏–º–µ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

#### –ü–∞–º—è—Ç—å
- `POST /memories` - —Å–æ–∑–¥–∞—Ç—å –ø–∞–º—è—Ç—å
- `GET /memories?folder=...&q=...` - –ø–æ–∏—Å–∫ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π

#### –ö–∞–ª–µ–Ω–¥–∞—Ä—å
- `GET /events` - —Å–ø–∏—Å–æ–∫ —Å–æ–±—ã—Ç–∏–π
- `POST /events` - —Å–æ–∑–¥–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ

#### –°–æ–≤–µ—Ç—ã
- `POST /advice` - –ø–æ–ª—É—á–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Å–æ–≤–µ—Ç

#### –ê—É–¥–∏–æ
- `POST /audio` - –∑–∞–≥—Ä—É–∑–∏—Ç—å –∞—É–¥–∏–æ
- `GET /audio/:id` - –ø–æ–ª—É—á–∏—Ç—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é –∏ summary

#### –ü—Ä–æ—Ñ–∏–ª—å
- `GET /profile` - –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
- `PATCH /profile` - –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å

#### –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
- `POST /reminders/dispatch?limit=20` - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (internal)

## Frontend (–ø–æ—Ä—Ç 3000)

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: **http://localhost:3000**

‚ö†Ô∏è **–í–∞–∂–Ω–æ**: 
- Frontend —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É **3000**
- Backend API —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É **3001**
- –ù–µ –æ—Ç–∫—Ä—ã–≤–∞–π—Ç–µ backend –Ω–∞–ø—Ä—è–º—É—é –≤ –±—Ä–∞—É–∑–µ—Ä–µ (—ç—Ç–æ API, –Ω–µ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–∞)

## –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–í —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (`NODE_ENV=development`):
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ç–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ Telegram initData
- –ú–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ Postman –∏–ª–∏ curl

## –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### Health check
```bash
curl http://localhost:3001/health
```

### –°–æ–∑–¥–∞—Ç—å –ø–∞–º—è—Ç—å (dev —Ä–µ–∂–∏–º)
```bash
curl -X POST http://localhost:3001/memories \
  -H "Content-Type: application/json" \
  -d '{"folder": "–†–∞–±–æ—Ç–∞", "title": "–¢–µ—Å—Ç", "content": "–¢–µ—Å—Ç–æ–≤–æ–µ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–µ"}'
```

### Ingest (dev —Ä–µ–∂–∏–º)
```bash
curl -X POST http://localhost:3001/ingest \
  -H "Content-Type: application/json" \
  -d '{"text": "–ó–∞–ø–æ–º–Ω–∏, —á—Ç–æ –∑–∞–≤—Ç—Ä–∞ –≤—Å—Ç—Ä–µ—á–∞ –≤ 15:00"}'
```

