# üìã –ó–∞—á–µ–º –Ω—É–∂–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ pgvector?

## üóÑÔ∏è –®–∞–≥ 1: –ú–∏–≥—Ä–∞—Ü–∏–∏ Prisma

### –ó–∞—á–µ–º –Ω—É–∂–Ω—ã:
–ú–∏–≥—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞—é—Ç **—Ç–∞–±–ª–∏—Ü—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**:
- `User` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `Memory` - –∑–∞–º–µ—Ç–∫–∏/–≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è
- `Event` - —Å–æ–±—ã—Ç–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è
- `Chat` - —á–∞—Ç—ã
- `Message` - —Å–æ–æ–±—â–µ–Ω–∏—è
- –∏ –¥—Ä—É–≥–∏–µ —Ç–∞–±–ª–∏—Ü—ã

### –ß—Ç–æ –±—É–¥–µ—Ç, –µ—Å–ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å:
‚ùå **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ù–ï –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å!**
- –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–º–µ—Ç–∫—É ‚Üí –æ—à–∏–±–∫–∞ "table does not exist"
- –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–æ–∑–¥–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ ‚Üí –æ—à–∏–±–∫–∞ "table does not exist"
- –í—Å–µ API –∑–∞–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –ø–∞–¥–∞—Ç—å —Å –æ—à–∏–±–∫–∞–º–∏ –ë–î

### –ú–æ–∂–Ω–æ –ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å:
‚ùå **–ù–ï–¢!** –ú–∏–≥—Ä–∞—Ü–∏–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### –ö–∞–∫ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ë–ï–ó –ø–ª–∞—Ç–Ω–æ–≥–æ Shell:

**–í–∞—Ä–∏–∞–Ω—Ç 1: –î–æ–±–∞–≤–∏—Ç—å –≤ Build Command (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

–í Render ‚Üí Backend —Å–µ—Ä–≤–∏—Å ‚Üí Settings ‚Üí Build & Deploy:

–ò–∑–º–µ–Ω–∏—Ç–µ **Build Command** –Ω–∞:
```bash
pnpm install --prod=false && pnpm exec prisma generate --schema=./prisma/schema.prisma && pnpm exec prisma migrate deploy --schema=./prisma/schema.prisma && pnpm build
```

–≠—Ç–æ –ø—Ä–∏–º–µ–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–π —Å–±–æ—Ä–∫–µ.

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É psql (–ª–æ–∫–∞–ª—å–Ω–æ)**

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ PostgreSQL —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É:
```bash
render psql dpg-d4te71re5dus739fqnvg-a
```

–¢–æ –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—Ä—É—á–Ω—É—é, —Å–∫–æ–ø–∏—Ä–æ–≤–∞–≤ SQL –∏–∑ —Ñ–∞–π–ª–∞ –º–∏–≥—Ä–∞—Ü–∏–∏.

---

## üîç –®–∞–≥ 2: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ pgvector

### –ó–∞—á–µ–º –Ω—É–∂–Ω–æ:
`pgvector` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è **—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞** (–ø–æ–∏—Å–∫ –ø–æ —Å–º—ã—Å–ª—É, –∞ –Ω–µ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º).

### –ß—Ç–æ –±—É–¥–µ—Ç, –µ—Å–ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å:
‚ö†Ô∏è **–ß–∞—Å—Ç–∏—á–Ω–æ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–º–µ—Ç–æ–∫ - —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π - —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –û–±—ã—á–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º - —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ùå –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ - –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç (–±—É–¥–µ—Ç –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å)
- ‚ùå –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–æ–≤–µ—Ç–æ–≤ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º - –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ

### –ú–æ–∂–Ω–æ –ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å:
‚úÖ **–î–ê, –º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å!** 
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- –ë–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã
- –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ

### –ö–∞–∫ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É psql:

–í—ã –ø–æ–ª—É—á–∏–ª–∏ –∫–æ–º–∞–Ω–¥—É:
```bash
render psql dpg-d4te71re5dus739fqnvg-a
```

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –µ—ë –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –∑–∞—Ç–µ–º –≤ –æ—Ç–∫—Ä—ã–≤—à–µ–º—Å—è psql:
```sql
CREATE EXTENSION IF NOT EXISTS vector;
\q
```

–ò–ª–∏ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:
```bash
render psql dpg-d4te71re5dus739fqnvg-a -c "CREATE EXTENSION IF NOT EXISTS vector;"
```

---

## ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:

1. **–ú–∏–≥—Ä–∞—Ü–∏–∏ Prisma** - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û (–¥–æ–±–∞–≤—å—Ç–µ –≤ Build Command)
2. **pgvector** - –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –Ω–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ, –¥–æ–±–∞–≤–∏—Ç–µ –ø–æ–∑–∂–µ

---

## üöÄ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π:

1. **–ò–∑–º–µ–Ω–∏—Ç–µ Build Command** –≤ Render Backend –Ω–∞:
   ```bash
   pnpm install --prod=false && pnpm exec prisma generate --schema=./prisma/schema.prisma && pnpm exec prisma migrate deploy --schema=./prisma/schema.prisma && pnpm build
   ```

2. **–°–æ–∑–¥–∞–π—Ç–µ Frontend —Å–µ—Ä–≤–∏—Å** (—Å–º. –®–∞–≥ 3 –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏)

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Telegram Mini App URL** –≤ BotFather

4. **pgvector –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ**, –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç–µ –≥–æ—Ç–æ–≤—ã –ø–ª–∞—Ç–∏—Ç—å –∏–ª–∏ –∫–æ–≥–¥–∞ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫

---

## üìù –ò—Ç–æ–≥:

- **–ú–∏–≥—Ä–∞—Ü–∏–∏** = —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü ‚Üí **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û**
- **pgvector** = —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ ‚Üí **–º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å**

